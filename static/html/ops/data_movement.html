<div class="container-fluid text-center tabcontainer" id="ops_reports_tab">
<div class="row chartrow" id="dataChart">
</div>
</div>

<script type="text/javascript">
 $.getJSON(experiment_daily_data_breakdown_url)
 .done(function(exp_stats){
     var allDataTrace = { type: 'scatter', name: "Lifetime", x: _.map(exp_stats.value, function(s) { return moment(s["_id"]).toDate(); }), y: _.map(exp_stats.value, "total_size")},
     cutoffy = moment().subtract(1, 'year'),
     lastYear = _.filter(exp_stats.value, function(s) { return moment(s["_id"]).isAfter(cutoffy); }),
     lastYearTrace = { type: 'scatter', name: "Last Year", x: _.map(lastYear, function(s) { return moment(s["_id"]).toDate(); }), y: _.map(lastYear, "total_size"), xaxis: 'x2',yaxis: 'y2'},
     cutoffm = moment().subtract(1, 'month'),
     lastMonth = _.filter(exp_stats.value, function(s) { return moment(s["_id"]).isAfter(cutoffm); }),
     lastMonthTrace = { type: 'scatter', name: "Last Month", x: _.map(lastMonth, function(s) { return moment(s["_id"]).toDate(); }), y: _.map(lastMonth, "total_size"), xaxis: 'x3',yaxis: 'y3'},
     cutoffw = moment().subtract(1, 'week'),
     lastWeek = _.filter(exp_stats.value, function(s) { return moment(s["_id"]).isAfter(cutoffw); }),
     lastWeekTrace = { type: 'scatter', name: "Last Week", x: _.map(lastWeek, function(s) { return moment(s["_id"]).toDate(); }), y: _.map(lastWeek, "total_size"), xaxis: 'x4',yaxis: 'y4'};

     Plotly.newPlot("dataChart", [lastMonthTrace, lastYearTrace, allDataTrace],
        { grid: { rows: 3, columns: 1, pattern: 'independent', roworder: 'bottom to top'},
          yaxis: {title: "Data (in TB)"}, yaxis2: {title: "Data (in TB)"}, yaxis3: {title: "Data (in TB)"}});
 });
